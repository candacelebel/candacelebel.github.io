<!DOCTYPE html>
<html>
<head>
  <style>
    .hidden {
      display: none;
    }
    .box {
      margin-top: 1em;
      padding: 1em;
      border: 1px solid #ccc;
      border-radius: 6px;
    }
  </style>
</head>
<body>

  <!-- INITIAL QUESTION -->
  <h3>Congratulations on getting your manuscript accepted!</h3>
  <p>What type of journal is it being published in?</p>

  <label>
    <input type="radio" name="initial" value="first">
    Partial OA (shows follow-up)
  </label><br>

  <label>
    <input type="radio" name="initial" value="second">
    Fully OA (shows text)
  </label>

  <!-- FOLLOW-UP QUESTION -->
  <div id="followUpBox" class="box hidden">
    <h4>Opt for . . .</h4>

    <label>
      <input type="radio" name="followUp" value="A">
      Open Access (shows another question)
    </label><br>

    <label>
      <input type="radio" name="followUp" value="B">
      Closed Access (shows text)
    </label>
  </div>

  <!-- THIRD-LEVEL QUESTION -->
  <div id="thirdQuestion" class="box hidden">
    <h4>$1000 subsidy from Library subscription.</h4>
    <p>Do you have grant funding for the APC remainder?</p>

    <label>
      <input type="radio" name="third" value="one">
      Yes
    </label><br>

    <label>
      <input type="radio" name="third" value="two">
      No
    </label>
  </div>

  <!-- TEXT RESPONSE FOR INITIAL SECOND OPTION -->
  <div id="initialText" class="box hidden">
    <p>$750* subsidy from Library subscription.  Author pays APC remainder.</p>
  </div>

  <!-- TEXT RESPONSE FOR FOLLOW-UP CHOICE B -->
  <div id="followUpText" class="box hidden">
    <p>No more questions.</p>
  </div>

<script>
  const followUpBox = document.getElementById("followUpBox");
  const thirdQuestion = document.getElementById("thirdQuestion");
  const initialText = document.getElementById("initialText");
  const followUpText = document.getElementById("followUpText");

  // INITIAL QUESTION LOGIC
  document.querySelectorAll('input[name="initial"]').forEach(radio => {
    radio.addEventListener('change', (e) => {

      if (e.target.value === "first") {
        followUpBox.classList.remove("hidden");
        initialText.classList.add("hidden");
      } else {
        followUpBox.classList.add("hidden");
        initialText.classList.remove("hidden");
      }

      // Reset later answers
      followUpText.classList.add("hidden");
      thirdQuestion.classList.add("hidden");
      document.querySelectorAll('input[name="followUp"]').forEach(f => f.checked = false);
      document.querySelectorAll('input[name="third"]').forEach(t => t.checked = false);
    });
  });

  // FOLLOW-UP QUESTION LOGIC
  document.querySelectorAll('input[name="followUp"]').forEach(radio => {
    radio.addEventListener('change', (e) => {

      if (e.target.value === "A") {
        // Show third-level question
        thirdQuestion.classList.remove("hidden");
        followUpText.classList.add("hidden");
      } else {
        // Show textual answer
        followUpText.classList.remove("hidden");
        thirdQuestion.classList.add("hidden");
      }

      // Reset third-level answers when switching
      document.querySelectorAll('input[name="third"]').forEach(t => t.checked = false);
    });
  });
</script>

</body>
</html>
