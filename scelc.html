<!DOCTYPE html>
<html>
<head>
  <style>
    .hidden {
      display: none;
    }
    .box {
      margin-top: 1em;
      padding: 1em;
      border: 1px solid #ccc;
      border-radius: 6px;
    }
  </style>
</head>
<body>

  <!-- INITIAL QUESTION -->
  <h3>Manuscript has been accepted</h3>
  <p>What type of journal is it?</p>

  <label>
    <input type="radio" name="initial" value="first">
    Partial OA ("hybrid") journal <!--(leads to follow-up)-->
  </label><br>

  <label>
    <input type="radio" name="initial" value="second">
    Fully OA journal <!--(shows text)-->
  </label>

  <!-- TEXT WHEN INITIAL SECOND OPTION IS CHOSEN -->
  <div id="initialText" class="box hidden">
    <p>$750* subsidy from Library subscription.</p>
    <p>Author pays APC remainder</p>
  </div>


  <!-- FOLLOW-UP QUESTION -->
  <div id="followUpBox" class="box hidden">
    <h4>Opt for . . .</h4>

    <label>
      <input type="radio" name="followUp" value="A">
      Open Access <!--(leads to third-level question)-->
    </label><br>

    <label>
      <input type="radio" name="followUp" value="B">
      Closed Access <!--(shows text)-->
    </label>
  </div>

  <!-- TEXT FOR FOLLOW-UP CHOICE B -->
  <div id="followUpText" class="box hidden">
    <p>Nothing further.</p>
  </div>


  <!-- THIRD-LEVEL QUESTION -->
  <div id="thirdQuestion" class="box hidden">
    <h4>$1000 subsidy from Library subscription.</h4>
    <p>Does author have grant funding for APC remainder?</p>

    <label>
      <input type="radio" name="third" value="one">
      Yes <!--(shows text)-->
    </label><br>

    <label>
      <input type="radio" name="third" value="two">
      No <!--(shows text)-->
    </label>
  </div>

  <!-- TEXT FOR THIRD-LEVEL ANSWERS -->
  <div id="thirdTextOne" class="box hidden">
    <p>Author pays APC remainder.</p>
    <p>Helps with long-term sustainability.</p>
  </div>

  <div id="thirdTextTwo" class="box hidden">
    <p>Open Access at no cost to the author.</p>
    <p>Library subscription covers APC remainder.</p>
  </div>


<script>
  const followUpBox = document.getElementById("followUpBox");
  const initialText = document.getElementById("initialText");
  const followUpText = document.getElementById("followUpText");
  const thirdQuestion = document.getElementById("thirdQuestion");
  const thirdTextOne = document.getElementById("thirdTextOne");
  const thirdTextTwo = document.getElementById("thirdTextTwo");

  // Hide all text results
  function hideAllText() {
    initialText.classList.add("hidden");
    followUpText.classList.add("hidden");
    thirdTextOne.classList.add("hidden");
    thirdTextTwo.classList.add("hidden");
  }

  // Reset all follow-up selections
  function resetFollowUp() {
    document.querySelectorAll('input[name="followUp"]').forEach(f => f.checked = false);
    followUpText.classList.add("hidden");
  }

  // Reset third-level selections
  function resetThird() {
    document.querySelectorAll('input[name="third"]').forEach(t => t.checked = false);
    thirdTextOne.classList.add("hidden");
    thirdTextTwo.classList.add("hidden");
  }

  // INITIAL QUESTION LOGIC
  document.querySelectorAll('input[name="initial"]').forEach(radio => {
    radio.addEventListener('change', (e) => {

      hideAllText();
      resetFollowUp();
      resetThird();

      if (e.target.value === "first") {
        followUpBox.classList.remove("hidden");
      } else {
        followUpBox.classList.add("hidden");
        initialText.classList.remove("hidden");
      }

      thirdQuestion.classList.add("hidden");
    });
  });

  // FOLLOW-UP QUESTION LOGIC
  document.querySelectorAll('input[name="followUp"]').forEach(radio => {
    radio.addEventListener('change', (e) => {

      hideAllText();
      resetThird();

      if (e.target.value === "A") {
        thirdQuestion.classList.remove("hidden");
      } else {
        thirdQuestion.classList.add("hidden");
        followUpText.classList.remove("hidden");
      }
    });
  });

  // THIRD-LEVEL ANSWERS â†’ SHOW TEXT
  document.querySelectorAll('input[name="third"]').forEach(radio => {
    radio.addEventListener('change', (e) => {

      thirdTextOne.classList.add("hidden");
      thirdTextTwo.classList.add("hidden");

      if (e.target.value === "one") {
        thirdTextOne.classList.remove("hidden");
      } else if (e.target.value === "two") {
        thirdTextTwo.classList.remove("hidden");
      }
    });
  });
</script>

</body>
</html>
