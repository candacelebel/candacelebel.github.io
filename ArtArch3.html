<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>New Art & Architecture Titles</title>

	<!-- INCLUDING JQUERY-->
	<script src=
"https://code.jquery.com/jquery-3.5.1.js">


import data from './NewArt3.json' assert { type: 'json' };
console.log(data);

const dropdown1 = document.getElementById('generalFormat');
const dropdown2 = document.getElementById('specificFormat');

for (const t of new Set(data.map(x => x.generalFormat)))
    dropdown1.add(new Option(t));
dropdown1.addEventListener('change', e => {
    const type = dropdown1.value;
    dropdown2.replaceChildren();
    for (const r of new Set(data.filter(x => x.generalFormat === type).map(x => x.specificFormat)))
        dropdown2.add(new Option(r));
});
	</script>

	<!-- CSS FOR STYLING THE PAGE -->
	<style>
		table {
			margin: 0 auto;
			table-layout: auto;
			width: 50%;
		}

		h1 {
			text-align: center;
			color: #332a7e;
			font-family: 'Gotham Narrow A','Gotham Narrow B',Arial,sans-serif;
		}

		th {
			text-align: center;
		}

		th,
		td {
			font-weight: bold;
			text-align: left;
		}

		td {
			font-weight: lighter;
			word-wrap:break-word;
		}

</style>
</head>

<body>



<select id="tumor_type">
  <option value="0">SELECT tumor type</option>
</select>
<select id="regimen">
  <option value="0">SELECT regimen</option>
</select>
<select id="dose">
  <option value="0">SELECT dose</option>
</select>

	<section>
		<h1>New Art & Architecture Titles - December 1-14, 2023</h1>

		<!-- TABLE CONSTRUCTION-->
		<table id='table'>
			<!-- HEADING FORMATION -->
			<!-- <tr>
				<th style="width:130px">Cover</th>
				<th>Title</th>
				<th style="width:200px">Creator</th>
				<th style="width:50px">Date</th>
				<th style="width:75px">Format</th>
			</tr> -->

			<script>
				$(document).ready(function () {

					// FETCHING DATA FROM JSON FILE
					$.getJSON("NewArt.json",
							function (data) {
						var record = '';

						// ITERATING THROUGH OBJECTS
						$.each(data, function (key, value) {

							//CONSTRUCTION OF ROWS HAVING
							// DATA FROM JSON OBJECT
	record += '<tr>';

	record += '<td rowspan="4"><img src="https://syndetics.com/index.aspx?isbn=' + value.isbns + '/LC.GIF&amp;client=springshare" alt="' + value.title + '" width="90" style="padding: 5px 5px 10px 5px"></td>';

	record += '<td><a href="https://ccl.on.worldcat.org/oclc/' + value.oclcNumber + '" target="_blank">' +	value.title + '</a></td>';

	record += '<tr><td>' +	value.creator + '</td></tr>';
	
	record += '<tr><td>' +	value.publisher + '</td></tr>';
	
	record += '<tr><td>' +	value.date + '</td></tr>';

	record += '</tr>';
						});
						
						//INSERTING ROWS INTO TABLE
						$('#table').append(record);
					});
				});
			</script>
	</section>
</body>

</html>
